# LLM配置
llm:
  provider: zhipu
  model: glm-4.6  # GLM-4.6旗舰模型，355B参数，代码能力对齐Claude Sonnet 4
  temperature: 0.1
  max_tokens: 2000  # 代码生成的最大token数
  explanation_max_tokens: 4000  # 分析解释的最大token数（增加到2倍以获得更详细的分析）
  top_p: 0.7
  enable_thinking_for_errors: true  # 错误分析时启用深度思考
  enable_thinking_for_complex: true  # 复杂问题解释时启用深度思考

# 代码执行配置
executor:
  timeout: 30  # 秒
  max_retries: 1  # 只重试1次，失败后使用thinking深度分析
  allowed_modules:
    - pandas
    - numpy
    - matplotlib
    - seaborn
    - datetime
    - math
    - statistics

# UI配置
ui:
  theme: monokai
  show_code_before_exec: true
  auto_save_plots: true
  confirm_before_exec: false
  explanation_max_display_chars: 1600  # 分析解释显示的最大字符数（约2倍）
  show_thinking_process: false  # 是否显示模型的thinking推理过程（可选功能）

# 日志配置
logging:
  level: INFO
  file: logs/app.log
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 会话配置
session:
  auto_save: true
  context_window: 10000 # 保留最近10000轮对话作为上下文
  save_dir: output/sessions
  compression_threshold: 0.7  # 压缩触发阈值（70%）
